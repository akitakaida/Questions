<!DOCTYPE HTML>
<html>

<head>
    <meta charset="utf-8">
    <meta name=”viewport” content=”width=device-width,initial-scale=1.0″>
    <title>回答５</title>
    <link rel="stylesheet" href="../css/stylesheet.css">
    <link rel="stylesheet" href="../css/responsive.css">
    <script type="text/javascript" src="../js/answer5.js"></script>
    <script src="https://kit.fontawesome.com/03e4df556a.js" crossorigin="anonymous"></script>
    <script src="../js/prism.js"></script>
    <link rel="stylesheet" href="../css/prism.css">
</head>

<body>
    <header>
        <div class="container">
            <h1>プログラミング問題集</h1>
            <h2>問題５の回答</h2>
        </div>
    </header>
    <div class="contents">
        <div class="container">
            <h3>問題５</h3>
            <p>1,2,…,9の数をこの順序で、"+"、"-"、またはななにもせず結果が100となるあらゆる組合せを出力するプログラムを記述せよ。例えば、1 + 2 + 34 – 5 + 67 – 8 + 9 = 100となる。</p>
        </div>
    </div>
    <!--入力欄-->
    <div class="list-wrapper">
        <div class="container">
            <button class="btn goToAnswer" type="button" onclick="answer5()">結果を表示</button>
        </div>
    </div>

    <!--回答の表示エリア-->
    <div class="answer-wrapper">
        <div class="container">
            <div class="answerArea">
                <h3 class="answer-title">Answer</h3>
                <details id="answer" >
                    <summary>1 + 2 + 34 – 5 + 67 – 8 + 9 = 100</summary>
                </details>
                <p>※<i class="fa-solid fa-caret-right"></i>をクリックすると展開します</p>
            </div>
        </div>
    </div>

    <!--JavaScriptのCode表示部分-->
    <div class="code-wrapper">
        <div class="container">
            <div class="">
                <h3 class="code-title">Code<span>※出力部分は割愛</span></h3>
<pre class="line-numbers"><code class="language-javascript">//全ての計算式を生成する関数
function createFomula(n, fomula, fomulae) {
let calculationSymbols = [" + ", " - ", ""];
let pre;
    if (n &lt; 9) { 
        for (let i = 0; i &lt; calculationSymbols.length; i++) { 
            pre=[n, calculationSymbols[i]]; 
            createFomula(n + 1, fomula.concat(pre), fomulae); 
        } 
    } else { 
        fomula.push(n); fomulae.push(fomula); 
    } 
} 
//question5の回答 
function answer5() { 
    let fomulae=[]; 
    let fomula=[]; 
    let answers=[]; 
    createFomula(1, fomula, fomulae); 
    fomulae.forEach((fomula)=>{
 //＋もーもない場合に数字を結合
        for(i = fomula.length - 1 ; i >= 0; i --) {
            if(fomula[i] === ""){
                let fusionNum = "";
                fusionNum += fomula.splice(i-1,1).toString();
                fusionNum += fomula.splice(i,1).toString();
                fomula[i-1] = parseInt(fusionNum);
            }
        }
//足し算と引き算を実行
        let cal = fomula[0];
        for(i = 0; i &lt; fomula.length; i ++){ 
            if(fomula[i]===" + "){ 
                cal += fomula[ i + 1 ]; 
            }else if(fomula[i] === " - " ){
                cal -= fomula[ i + 1 ]; 
            } 
        } 
//計算結果が100であればanswersに追加
        if(cal===100){ 
            fomula.push('=100'); 
            answers.push(fomula); 
        } 
    }); 
//追加する親要素を取得し、RESET
    let answerArea=document.getElementById('answer');
    answerArea.innerHTML='&lt;summary&gt; 1 + 2 + 34 – 5 + 67 – 8 + 9 = 100&lt;/summary&gt;' ; 
//結果を表示 
    answers.forEach((answer)=>{
        let text = "";
        let add = document.createElement('p');//pタグを生成
        answer.forEach((element)=>{
            text += element.toString();
        });
        add.textContent = text;
        answerArea.appendChild(add);
    });
    answerArea.setAttribute('open','open');
}</code></pre>
            </div>
        </div>
    </div>
    <footer>
        <div class="container">
            <a class="btn back" href="../index.html">戻る</a>
        </div>
    </footer>
</body>

</html>
